<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ¨ ì»¬ëŸ¬ PPT ì»¨íŠ¸ë¡¤ëŸ¬</title>
  <link rel="stylesheet" href="stickgame.css">
  <link rel="stylesheet" href="/common/sidebar.css">
</head>
<body>
  <div class="stickgame-wrapper">
    <!-- ì‚¬ì´ë“œë°” -->
    <div class="sidebar">
      <div class="sidebar-head">
        <button id="sidebar-toggle">
          <img class="hamburger-icon" src="../assets/hamburger.png">
        </button>
        <a href="../01main/index.html" class="sidebar-head-logo">
          <img class="sidebar-head-loge-img" src="../assets/logo.png">
        </a>
      </div>
      <ul>
        <li class="list-category">
          <span class="list-category-text">MANAGE</span>
        </li>
        <li class="list">
          <a href="../02applylist/applylist.html" class="list-content">
            <span class="list-content-leftwrap">
              <span class="list-content-icon">
                <img src="../assets/form.png" class="form-icon">
              </span>
              <span class="list-content-text">íŒŒí‹°ì‹ ì²­ì„œ</span>
            </span>
            <span class="list-content-arrow">
              <img src="../assets/arrow-right.png" class="arrow-right-icon">
            </span>
          </a>
        </li>
        <li class="list">
          <a href="../03reservationlist/reservationlist.html" class="list-content">
            <span class="list-content-leftwrap">
              <span class="list-content-icon">
                <img src="../assets/reservationsheet.png" class="form-icon">
              </span>
              <span class="list-content-text">ì˜ˆì•½ì‹œíŠ¸</span>
            </span>
            <span class="list-content-arrow">
              <img src="../assets/arrow-right.png" class="arrow-right-icon">
            </span>
          </a>
        </li>
        <li class="list">
          <a href="../05cardlogs/index.html" class="list-content">
            <span class="list-content-leftwrap">
              <span class="list-content-icon">
                <img src="../assets/creditcard.png" class="form-icon">
              </span>
              <span class="list-content-text">ì¬ë¬´ê¸°ë¡</span>
            </span>
            <span class="list-content-arrow">
              <img src="../assets/arrow-right.png" class="arrow-right-icon">
            </span>
          </a>
        </li>
        <li class="list">
          <a href="../04calendar/calender.html" class="list-content">
            <span class="list-content-leftwrap">
              <span class="list-content-icon">
                <img src="../assets/calendar.png" class="form-icon">
              </span>
              <span class="list-content-text">ìº˜ë¦°ë”</span>
            </span>
            <span class="list-content-arrow">
              <img src="../assets/arrow-right.png" class="arrow-right-icon">
            </span>
          </a>
        </li>
        <li class="list">
          <a href="../09party-cards-data/party_cards.html" class="list-content">
            <span class="list-content-leftwrap">
              <span class="list-content-icon">
                <img src="../assets/calendar.png" class="form-icon">
              </span>
              <span class="list-content-text">íŒŒí‹°ì¹´ë“œ ë°ì´í„°</span>
            </span>
            <span class="list-content-arrow">
              <img src="../assets/arrow-right.png" class="arrow-right-icon">
            </span>
          </a>
        </li>
        <li class="list">
          <a href="../10accounts/accounts.html" class="list-content">
            <span class="list-content-leftwrap">
              <span class="list-content-icon">
                <img src="../assets/calendar.png" class="form-icon">
              </span>
              <span class="list-content-text">ê²Œë¦´ë¼ ê³„ì •</span>
            </span>
            <span class="list-content-arrow">
              <img src="../assets/arrow-right.png" class="arrow-right-icon">
            </span>
          </a>
        </li>
        <li class="list-category">
          <span class="list-category-text">GAMES</span>
        </li>
        <li class="list">
          <a href="../07ppt/controller.html" class="list-content">
            <span class="list-content-leftwrap">
              <span class="list-content-icon">
                <img src="../assets/ppt.png" class="form-icon">
              </span>
              <span class="list-content-text">ì§„í–‰PPT</span>
            </span>
            <span class="list-content-arrow">
              <img src="../assets/arrow-right.png" class="arrow-right-icon">
            </span>
          </a>
        </li>
                <li class="list">
          <a href="/11stickgame/controller.html" class="list-content">
            <span class="list-content-leftwrap">
              <span class="list-content-icon">
                <img src="../assets/stick.png" class="form-icon">
              </span>
              <span class="list-content-text">ë§‰ëŒ€ê²Œì„</span>
            </span>
            <span class="list-content-arrow">
              <img src="../assets/arrow-right.png" class="arrow-right-icon">
            </span>
          </a>
        </li>
        <li class="list">
          <a href="../06quizppt/index.html" class="list-content">
            <span class="list-content-leftwrap">
              <span class="list-content-icon">
                <img src="../assets/person.png" class="form-icon">
              </span>
              <span class="list-content-text">ì¸ë¬¼ê²Œì„</span>
            </span>
            <span class="list-content-arrow">
              <img src="../assets/arrow-right.png" class="arrow-right-icon">
            </span>
          </a>
        </li>
      </ul>
    </div>
    <div class="game-wrapper">
      <h2>ğŸ¨ PPT ìŠ¬ë¼ì´ë“œ ì¡°í•© ì…ë ¥</h2>
      <div id="input-container"></div>
      <button onclick="startPPT()" class="ppt-start-button">PPT ì‹œì‘í•˜ê¸°</button>
    </div>
  </div>
  <script>
    const inputContainer = document.getElementById("input-container");

    // 10ê°œê¹Œì§€ ì…ë ¥ í•„ë“œ ìƒì„±
    for (let i = 0; i < 8; i++) {
      const group = document.createElement("div");
      group.className = "set-group";

      group.innerHTML = `
        <input type="color" class="color-picker" value="#ececec" />
        <input type="text" class="color-code" value="#ececec" placeholder="#ì»¬ëŸ¬ì½”ë“œ" />
        <input type="text" class="textA-input" placeholder="ìƒ‰ìƒ (ex. #ë¹¨ê°•)" />
        <input type="text" class="textB-input" placeholder="í‚¤ì›Œë“œ (ex. #ê¶í•©)" />
      `;

      // ë™ê¸°í™”: ìŠ¤í¬ì´ë“œ ì„ íƒ â†’ í…ìŠ¤íŠ¸ ì½”ë“œ ë°˜ì˜
      const colorPicker = group.querySelector(".color-picker");
      const colorCode = group.querySelector(".color-code");

      colorPicker.addEventListener("input", () => {
        colorCode.value = colorPicker.value;
      });

      // ë™ê¸°í™”: í…ìŠ¤íŠ¸ ì…ë ¥ â†’ ìŠ¤í¬ì´ë“œ ìƒ‰ ë°˜ì˜
      colorCode.addEventListener("input", () => {
        if (/^#([0-9A-Fa-f]{6})$/.test(colorCode.value)) {
          colorPicker.value = colorCode.value;
        }
      });

      inputContainer.appendChild(group);
    }

    function startPPT() {
      const colors = [...document.querySelectorAll(".color-code")].map(input => input.value);
      const textsA = [...document.querySelectorAll(".textA-input")].map(input => input.value);
      const textsB = [...document.querySelectorAll(".textB-input")].map(input => input.value);

      const slideSets = [];

      for (let i = 0; i < colors.length; i++) {
        if (textsA[i].trim() && textsB[i].trim()) {
          slideSets.push([
            { bg: colors[i], text: textsA[i] },
            { bg: colors[i], text: textsB[i] }
          ]);
        }
      }

      if (!slideSets.length) {
        alert("ìœ íš¨í•œ ìŠ¬ë¼ì´ë“œ ì¡°í•©ì´ ì—†ìŠµë‹ˆë‹¤.");
        return;
      }

      // ìŠ¬ë¼ì´ë“œ ì„¸íŠ¸ ëœë¤ ì„ê¸°
      const shuffled = slideSets
        .map(set => ({ set, sort: Math.random() }))
        .sort((a, b) => a.sort - b.sort)
        .flatMap(item => item.set); // ì„¸íŠ¸ ë‚´ ìˆœì„œëŠ” ìœ ì§€í•˜ë©´ì„œ í¼ì¹˜ê¸°

      // ë””ìŠ¤í”Œë ˆì´ í˜ì´ì§€ ì˜¤í”ˆ ë° ë°ì´í„° ì „ì†¡
      const displayWindow = window.open("display.html", "display", "width=1000,height=700");
      setTimeout(() => {
        displayWindow.postMessage({ type: "colorppt", slides: shuffled }, "*");
      }, 500);
    }
  </script>
  <script src="/common/sidebar.js"></script>
</body>
</html>
